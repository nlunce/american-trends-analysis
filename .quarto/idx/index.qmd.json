{"title":"Causation or Correlation?","markdown":{"yaml":{"title":"Causation or Correlation?","subtitle":"Key Trends and Events Impacting American Life Over the Years","author":"Nathan Lunceford","execute":{"enabled":true}},"headingText":"**CASUALTIES OF ARMED CONFLICTS**","containsRefs":false,"markdown":"\n\n```{python}\n#| label: libraries\n#| include: false\n\nimport polars as pl\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import FuncFormatter\nimport seaborn as sns\n```\n\n---\n\n```{python}\n#| label: graph\n#| code-summary: \"Show Code\"\n\nafrican_countries = [\n    \"Algeria\", \"Angola\", \"Benin\", \"Botswana\", \"Burkina Faso\", \"Burundi\", \"Cameroon\", \"Cape Verde\",\n    \"Central African Republic\", \"Chad\", \"Comoros\", \"Congo\", \"Djibouti\", \"Egypt\", \"Equatorial Guinea\",\n    \"Eritrea\", \"Eswatini\", \"Ethiopia\", \"Gabon\", \"Gambia\", \"Ghana\", \"Guinea\", \"Guinea-Bissau\",\n    \"Ivory Coast\", \"Kenya\", \"Lesotho\", \"Liberia\", \"Libya\", \"Madagascar\", \"Malawi\", \"Mali\",\n    \"Mauritania\", \"Mauritius\", \"Morocco\", \"Mozambique\", \"Namibia\", \"Niger\", \"Nigeria\", \"Rwanda\",\n    \"Sao Tome and Principe\", \"Senegal\", \"Seychelles\", \"Sierra Leone\", \"Somalia\", \"South Africa\",\n    \"South Sudan\", \"Sudan\", \"Tanzania\", \"Togo\", \"Tunisia\", \"Uganda\", \"Zambia\", \"Zimbabwe\", \n    \"Democratic Republic of the Congo\", \"CÃ´te d'Ivoire\", \"Democratic Republic of Congo\"\n]\n\ndf = pl.read_csv(\"./data/conflict-data.csv\").rename({\n    \"Entity\": \"country\",\n    \"Code\": \"country_code\",\n    \"Year\": \"year\",\n    \"Deaths in ongoing conflicts in a country (best estimate) - Conflict type: all\": \"total_deaths\"\n}).select([\"year\", \"country\", \"total_deaths\"])\n\ndf = df.with_columns([\n    pl.col(\"year\").cast(pl.Int64),\n    pl.col(\"total_deaths\").cast(pl.Int64)\n])\n\ndf_2024 = pl.read_csv(\"./data/acled_aggregated_20024.csv\").rename({\n    \"Country\": \"country\",\n    \"Fatalities\": \"total_deaths\"\n})\n\ndf_2024 = df_2024.with_columns([\n    pl.lit(2024).alias(\"year\").cast(pl.Int64),\n    pl.col(\"total_deaths\").cast(pl.Int64)\n]).select([\"year\", \"country\", \"total_deaths\"])\n\ndf_combined = df.vstack(df_2024)\n\ndf_combined = df_combined.with_columns(\n    pl.col(\"country\").str.replace(r\"^\\s+|\\s+$\", \"\") \n)\n\ndf_filtered = df_combined.filter(\n    (pl.col(\"year\") >= 2001) & (pl.col(\"year\") <= 2024) & (~pl.col(\"country\").is_in(african_countries))\n)\n\ndeaths_per_year = (\n    df_filtered.group_by(\"year\")\n    .agg(pl.col(\"total_deaths\").sum().alias(\"Total Deaths\"))\n    .sort(\"year\")\n)\n\nsns.set_theme(style=\"whitegrid\")\n\nplt.figure(figsize=(11, 7))\nplt.plot(deaths_per_year[\"year\"], deaths_per_year[\"Total Deaths\"], marker='o', linestyle='-', color='#8B0000', linewidth=2)  # Dark red color\n\nbush = plt.axvspan(2001, 2008, color='red', alpha=.5, label=\"Bush/Cheney\")\nobama = plt.axvspan(2008, 2016, color='blue', alpha=.5, label=\"Obama/Biden\")\ntrump = plt.axvspan(2016, 2020, color='lightcoral', alpha=0.3, label=\"Trump/Pence\")\nbiden = plt.axvspan(2020, 2024, color='lightblue', alpha=0.3, label=\"Biden/Harris\")\n\nfor x, y in zip(deaths_per_year[\"year\"], deaths_per_year[\"Total Deaths\"]):\n    plt.text(x, y + max(deaths_per_year[\"Total Deaths\"]) * 0.02, f\"{y:,}\", ha=\"center\", va=\"bottom\", fontsize=11, weight='bold')\n\nplt.title(\"Total Deaths in Armed Conflicts (2001 - October 2024, Excluding Africa)\", fontsize=16, weight='bold')\nplt.xlabel(\"Year\", fontsize=12)\nplt.ylabel(\"Total Deaths\", fontsize=12)\n\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, _: f\"{int(x):,}\"))\n\nplt.xticks(deaths_per_year[\"year\"], rotation=45)\n\nplt.grid(True, which='both', linestyle='--', linewidth=0.5, alpha=0.7)\n\nfirst_legend = plt.legend(handles=[bush, obama, trump, biden], loc=\"upper left\", fontsize=10, title=\"Presidential Terms\")\nplt.gca().add_artist(first_legend)\n\nplt.tight_layout()\nplt.show()\n```\n\n\n**Data Source:** [Our World in Data - War and Peace](https://ourworldindata.org/war-and-peace)\n\n**Data Source:** [Armed Conflict Location & Event Data Project (ACLED) - Data Export Tool](https://acleddata.com/data-export-tool/)\n\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/ukrainian-soldiers.webp\" alt=\"Image 1\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/body-bags.jpg\" alt=\"Image 2\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/dead.webp\" alt=\"Image 3\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n</div>\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/israel2.jpg\" alt=\"Image 2\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/israel.webp\" alt=\"Image 1\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/israel3.jpg\" alt=\"Image 3\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n</div>\n\n::: {.callout-note icon=false collapse=\"true\"}\n## **DETAILS**\n\n## **Major Armed Confilcts under Bush/Cheney**\n1. **War in Afghanistan (2001)** - Initiated in response to the 9/11 attacks to dismantle al-Qaeda and remove the Taliban.\n2. **Iraq War (2003)** - Launched over alleged weapons of mass destruction, resulting in the ousting of Saddam Hussein.\n\n### **TOTAL:** 2\n\n## **Major Armed Confilcts under Obama/Biden**\n1. **Libya Intervention (2011)** - U.S. and NATO intervened via airstrikes during the Libyan Civil War, leading to Gaddafiâ€™s ouster and subsequent instability.\n2. **Anti-ISIS Campaign (2014)** - Obama launched airstrikes in Iraq and Syria to counter ISIS, leading to a multi-national coalition against the group.\n3. **Syria Civil War (Indirect)** - While the U.S. didnâ€™t start the war, Obamaâ€™s administration provided significant support to anti-Assad rebels and launched strikes against ISIS in Syria.\n4. **Ukraine (2014)** - Following Russiaâ€™s annexation of Crimea, the U.S. began providing military aid to Ukraine to support its defense against Russian-backed separatists.\n\n### **TOTAL:** 4\n\n## **Major Armed Confilcts under Trump/Pence**\n1. **Continued Anti-ISIS Operations** - Trump intensified operations in Iraq and Syria, focusing on ISIS.\n\n### **TOTAL:** 1\n\n## **Major Armed Confilcts under Biden/Harris**\n1. **Afghanistan Withdrawal (2021)** - Led to the Taliban regaining control, with subsequent violence affecting both Afghans and U.S. interests.\n2. **Ukraine Conflict (2022)** - Bidenâ€™s administration provided extensive military and financial support to Ukraine in response to Russiaâ€™s invasion, helping shape the conflict's course.\n3. **Israel-Gaza Conflict (2023)** - Amid escalated violence, the Biden administration provided support to Israel, including emergency aid packages and diplomatic backing.\n\n### **TOTAL:** 3\n\n## ðŸ† **Winner:** Biden â€” **Total: 7**\n\n### **Biden has spent nearly 12 years in the White House as either Vice President or President, overseeing more major armed conflicts than any other U.S. leader in the past 24 years.**\n\n![](./images/biden.webp){ width=50% }\n\n:::\n\n# **GAS PRICES**\n---\n\n```{python}\n#| label: graph2\n#| code-summary: \"Show Code\"\n\ndf = pl.read_csv(\"./data/gasoline_prices.csv\").rename({\n    \"Month\": \"month\",\n    \"U.S. All Grades All Formulations Retail Gasoline Prices Dollars per Gallon\": \"avg_gas_price\"\n})\n\ndf = df.with_columns(pl.col(\"month\").str.strptime(pl.Date, \"%b %Y\"))\n\ndf = df.with_columns([\n    pl.col(\"month\").dt.year().alias(\"year\"),\n    pl.col(\"month\").dt.month().alias(\"month\")\n])\n\ndf = df.select([\"year\", \"month\", \"avg_gas_price\"])\n\ndf_filtered = df.filter((pl.col(\"year\") >= 2001) & (pl.col(\"year\") <= 2024))\n\ndf_filtered = df_filtered.select([\"year\", \"month\", \"avg_gas_price\"])\n\ndf_yearly_avg = df_filtered.group_by(\"year\").agg(pl.col(\"avg_gas_price\").mean().alias(\"yearly_avg_price\")).sort(\"year\")\n\ndf_yearly_avg_pandas = df_yearly_avg.to_pandas()\n\nplt.figure(figsize=(11, 7))\nplt.plot(df_yearly_avg_pandas[\"year\"], df_yearly_avg_pandas[\"yearly_avg_price\"], marker='o', linestyle='-', color='#8B0000', linewidth=2)\n\nplt.axvspan(2001, 2008, color='red', alpha=.5, label=\"Bush/Cheney\")\nplt.axvspan(2008, 2016, color='blue', alpha=.5, label=\"Obama/Biden\")\nplt.axvspan(2016, 2020, color='lightcoral', alpha=0.3, label=\"Trump/Pence\")\nplt.axvspan(2020, 2024, color='lightblue', alpha=0.3, label=\"Biden/Harris\")\n\nfor x, y in zip(df_yearly_avg_pandas[\"year\"], df_yearly_avg_pandas[\"yearly_avg_price\"]):\n    plt.text(x, y + 0.02, f\"{y:.2f}\", ha=\"center\", va=\"bottom\", fontsize=11, weight='bold')\n\nplt.title(\"Yearly Average Gasoline Prices (2001 - 2024)\\nAll Grades All Formulations Retail Gasoline Prices Dollars per Gallon\", fontsize=16, weight='bold')\nplt.xlabel(\"Year\", fontsize=12)\nplt.ylabel(\"Average Gasoline Price (Dollars per Gallon)\", fontsize=12)\n\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, _: f\"${x:.2f}\"))\n\nplt.xticks(df_yearly_avg_pandas[\"year\"], rotation=45)\n\nplt.grid(True, which='both', linestyle='--', linewidth=0.5, alpha=0.7)\n\nfirst_legend = plt.legend(loc=\"upper left\", fontsize=10, title=\"Presidential Terms\")\nplt.gca().add_artist(first_legend)\n\nplt.tight_layout()\n\nplt.show()\n```\n\n**Data Source:** [U.S. Energy Information Administration (EIA) - U.S. All Grades All Formulations Retail Gasoline Prices](https://www.eia.gov/dnav/pet/hist/leafhandler.ashx?n=pet&s=emm_epm0_pte_nus_dpg&f=m)\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/low-gas.webp\" alt=\"Low Gas Prices\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/high-gas.webp\" alt=\"High Gas Prices\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n</div>\n\n# **HOME PRICES**\n---\n\n```{python}\n#| label: graph3\n#| code-summary: \"Show Code\"\n\ndf = pl.read_csv(\"./data/yearly_median_home_prices.csv\").rename({\n    \"DATE\": \"date\",\n    \"MSPUS\": \"avg_median_home_price\"\n})\n\ndf = df.with_columns(\n    pl.col(\"date\").str.strptime(pl.Date, \"%Y-%m-%d\").dt.year().alias(\"year\"),\n    pl.col(\"avg_median_home_price\").cast(pl.Float64).round()  # Convert to float and round to 2 decimal places\n)\n\ndf = df.drop(\"date\")\n\ndf_filtered = df.filter((pl.col(\"year\") >= 2001) & (pl.col(\"year\") <= 2024))\n\nplt.figure(figsize=(11, 7))\nplt.plot(df_filtered[\"year\"], df_filtered[\"avg_median_home_price\"], marker='o', linestyle='-', color='#8B0000', linewidth=2)\n\n# Add shaded regions for each presidency\nplt.axvspan(2001, 2008, color='red', alpha=.5, label=\"Bush/Cheney\")\nplt.axvspan(2008, 2016, color='blue', alpha=.5, label=\"Obama/Biden\")\nplt.axvspan(2016, 2020, color='lightcoral', alpha=0.3, label=\"Trump/Pence\")\nplt.axvspan(2020, 2024, color='lightblue', alpha=0.3, label=\"Biden/Harris\")\n\n# Adding data labels above the points\nfor x, y in zip(df_filtered[\"year\"], df_filtered[\"avg_median_home_price\"]):\n    plt.text(x, y + 2000, f\"{y:.0f}\", ha=\"center\", va=\"bottom\", fontsize=11, weight='bold')\n\n# Titles and labels\nplt.title(\"Annual Average of Quarterly Median Home Prices (2001 - 2024)\", fontsize=16, weight='bold')\nplt.xlabel(\"Year\", fontsize=12)\nplt.ylabel(\"Average Median Home Price (Dollars)\", fontsize=12)\n\n# Format y-axis with dollar sign and no decimal places\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, _: f\"${x:,.0f}\"))\n\n# Improving the x-axis ticks\nplt.xticks(df_filtered[\"year\"], rotation=45)\n\n# Adding a subtle grid\nplt.grid(True, which='both', linestyle='--', linewidth=0.5, alpha=0.7)\n\n# Add a legend for presidential terms (upper left)\nfirst_legend = plt.legend(loc=\"upper left\", fontsize=10, title=\"Presidential Terms\")\nplt.gca().add_artist(first_legend)\n\n# Adjust layout for better fitting\nplt.tight_layout()\n\n# Show plot\nplt.show()\n\n```\n\n**Data Source:** [Federal Reserve Economic Data (FRED) - Median Sales Price of Houses Sold for the United States (MSPUS)](https://fred.stlouisfed.org/series/MSPUS)\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/home.webp\" alt=\"Home\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/homeless-camp.jpg\" alt=\"Homeless Camp\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n</div>\n","srcMarkdownNoYaml":"\n\n```{python}\n#| label: libraries\n#| include: false\n\nimport polars as pl\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import FuncFormatter\nimport seaborn as sns\n```\n\n# **CASUALTIES OF ARMED CONFLICTS**\n---\n\n```{python}\n#| label: graph\n#| code-summary: \"Show Code\"\n\nafrican_countries = [\n    \"Algeria\", \"Angola\", \"Benin\", \"Botswana\", \"Burkina Faso\", \"Burundi\", \"Cameroon\", \"Cape Verde\",\n    \"Central African Republic\", \"Chad\", \"Comoros\", \"Congo\", \"Djibouti\", \"Egypt\", \"Equatorial Guinea\",\n    \"Eritrea\", \"Eswatini\", \"Ethiopia\", \"Gabon\", \"Gambia\", \"Ghana\", \"Guinea\", \"Guinea-Bissau\",\n    \"Ivory Coast\", \"Kenya\", \"Lesotho\", \"Liberia\", \"Libya\", \"Madagascar\", \"Malawi\", \"Mali\",\n    \"Mauritania\", \"Mauritius\", \"Morocco\", \"Mozambique\", \"Namibia\", \"Niger\", \"Nigeria\", \"Rwanda\",\n    \"Sao Tome and Principe\", \"Senegal\", \"Seychelles\", \"Sierra Leone\", \"Somalia\", \"South Africa\",\n    \"South Sudan\", \"Sudan\", \"Tanzania\", \"Togo\", \"Tunisia\", \"Uganda\", \"Zambia\", \"Zimbabwe\", \n    \"Democratic Republic of the Congo\", \"CÃ´te d'Ivoire\", \"Democratic Republic of Congo\"\n]\n\ndf = pl.read_csv(\"./data/conflict-data.csv\").rename({\n    \"Entity\": \"country\",\n    \"Code\": \"country_code\",\n    \"Year\": \"year\",\n    \"Deaths in ongoing conflicts in a country (best estimate) - Conflict type: all\": \"total_deaths\"\n}).select([\"year\", \"country\", \"total_deaths\"])\n\ndf = df.with_columns([\n    pl.col(\"year\").cast(pl.Int64),\n    pl.col(\"total_deaths\").cast(pl.Int64)\n])\n\ndf_2024 = pl.read_csv(\"./data/acled_aggregated_20024.csv\").rename({\n    \"Country\": \"country\",\n    \"Fatalities\": \"total_deaths\"\n})\n\ndf_2024 = df_2024.with_columns([\n    pl.lit(2024).alias(\"year\").cast(pl.Int64),\n    pl.col(\"total_deaths\").cast(pl.Int64)\n]).select([\"year\", \"country\", \"total_deaths\"])\n\ndf_combined = df.vstack(df_2024)\n\ndf_combined = df_combined.with_columns(\n    pl.col(\"country\").str.replace(r\"^\\s+|\\s+$\", \"\") \n)\n\ndf_filtered = df_combined.filter(\n    (pl.col(\"year\") >= 2001) & (pl.col(\"year\") <= 2024) & (~pl.col(\"country\").is_in(african_countries))\n)\n\ndeaths_per_year = (\n    df_filtered.group_by(\"year\")\n    .agg(pl.col(\"total_deaths\").sum().alias(\"Total Deaths\"))\n    .sort(\"year\")\n)\n\nsns.set_theme(style=\"whitegrid\")\n\nplt.figure(figsize=(11, 7))\nplt.plot(deaths_per_year[\"year\"], deaths_per_year[\"Total Deaths\"], marker='o', linestyle='-', color='#8B0000', linewidth=2)  # Dark red color\n\nbush = plt.axvspan(2001, 2008, color='red', alpha=.5, label=\"Bush/Cheney\")\nobama = plt.axvspan(2008, 2016, color='blue', alpha=.5, label=\"Obama/Biden\")\ntrump = plt.axvspan(2016, 2020, color='lightcoral', alpha=0.3, label=\"Trump/Pence\")\nbiden = plt.axvspan(2020, 2024, color='lightblue', alpha=0.3, label=\"Biden/Harris\")\n\nfor x, y in zip(deaths_per_year[\"year\"], deaths_per_year[\"Total Deaths\"]):\n    plt.text(x, y + max(deaths_per_year[\"Total Deaths\"]) * 0.02, f\"{y:,}\", ha=\"center\", va=\"bottom\", fontsize=11, weight='bold')\n\nplt.title(\"Total Deaths in Armed Conflicts (2001 - October 2024, Excluding Africa)\", fontsize=16, weight='bold')\nplt.xlabel(\"Year\", fontsize=12)\nplt.ylabel(\"Total Deaths\", fontsize=12)\n\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, _: f\"{int(x):,}\"))\n\nplt.xticks(deaths_per_year[\"year\"], rotation=45)\n\nplt.grid(True, which='both', linestyle='--', linewidth=0.5, alpha=0.7)\n\nfirst_legend = plt.legend(handles=[bush, obama, trump, biden], loc=\"upper left\", fontsize=10, title=\"Presidential Terms\")\nplt.gca().add_artist(first_legend)\n\nplt.tight_layout()\nplt.show()\n```\n\n\n**Data Source:** [Our World in Data - War and Peace](https://ourworldindata.org/war-and-peace)\n\n**Data Source:** [Armed Conflict Location & Event Data Project (ACLED) - Data Export Tool](https://acleddata.com/data-export-tool/)\n\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/ukrainian-soldiers.webp\" alt=\"Image 1\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/body-bags.jpg\" alt=\"Image 2\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/dead.webp\" alt=\"Image 3\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n</div>\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/israel2.jpg\" alt=\"Image 2\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/israel.webp\" alt=\"Image 1\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/israel3.jpg\" alt=\"Image 3\" style=\"width: 32%; height: 100%; object-fit: cover;\"/>\n</div>\n\n::: {.callout-note icon=false collapse=\"true\"}\n## **DETAILS**\n\n## **Major Armed Confilcts under Bush/Cheney**\n1. **War in Afghanistan (2001)** - Initiated in response to the 9/11 attacks to dismantle al-Qaeda and remove the Taliban.\n2. **Iraq War (2003)** - Launched over alleged weapons of mass destruction, resulting in the ousting of Saddam Hussein.\n\n### **TOTAL:** 2\n\n## **Major Armed Confilcts under Obama/Biden**\n1. **Libya Intervention (2011)** - U.S. and NATO intervened via airstrikes during the Libyan Civil War, leading to Gaddafiâ€™s ouster and subsequent instability.\n2. **Anti-ISIS Campaign (2014)** - Obama launched airstrikes in Iraq and Syria to counter ISIS, leading to a multi-national coalition against the group.\n3. **Syria Civil War (Indirect)** - While the U.S. didnâ€™t start the war, Obamaâ€™s administration provided significant support to anti-Assad rebels and launched strikes against ISIS in Syria.\n4. **Ukraine (2014)** - Following Russiaâ€™s annexation of Crimea, the U.S. began providing military aid to Ukraine to support its defense against Russian-backed separatists.\n\n### **TOTAL:** 4\n\n## **Major Armed Confilcts under Trump/Pence**\n1. **Continued Anti-ISIS Operations** - Trump intensified operations in Iraq and Syria, focusing on ISIS.\n\n### **TOTAL:** 1\n\n## **Major Armed Confilcts under Biden/Harris**\n1. **Afghanistan Withdrawal (2021)** - Led to the Taliban regaining control, with subsequent violence affecting both Afghans and U.S. interests.\n2. **Ukraine Conflict (2022)** - Bidenâ€™s administration provided extensive military and financial support to Ukraine in response to Russiaâ€™s invasion, helping shape the conflict's course.\n3. **Israel-Gaza Conflict (2023)** - Amid escalated violence, the Biden administration provided support to Israel, including emergency aid packages and diplomatic backing.\n\n### **TOTAL:** 3\n\n## ðŸ† **Winner:** Biden â€” **Total: 7**\n\n### **Biden has spent nearly 12 years in the White House as either Vice President or President, overseeing more major armed conflicts than any other U.S. leader in the past 24 years.**\n\n![](./images/biden.webp){ width=50% }\n\n:::\n\n# **GAS PRICES**\n---\n\n```{python}\n#| label: graph2\n#| code-summary: \"Show Code\"\n\ndf = pl.read_csv(\"./data/gasoline_prices.csv\").rename({\n    \"Month\": \"month\",\n    \"U.S. All Grades All Formulations Retail Gasoline Prices Dollars per Gallon\": \"avg_gas_price\"\n})\n\ndf = df.with_columns(pl.col(\"month\").str.strptime(pl.Date, \"%b %Y\"))\n\ndf = df.with_columns([\n    pl.col(\"month\").dt.year().alias(\"year\"),\n    pl.col(\"month\").dt.month().alias(\"month\")\n])\n\ndf = df.select([\"year\", \"month\", \"avg_gas_price\"])\n\ndf_filtered = df.filter((pl.col(\"year\") >= 2001) & (pl.col(\"year\") <= 2024))\n\ndf_filtered = df_filtered.select([\"year\", \"month\", \"avg_gas_price\"])\n\ndf_yearly_avg = df_filtered.group_by(\"year\").agg(pl.col(\"avg_gas_price\").mean().alias(\"yearly_avg_price\")).sort(\"year\")\n\ndf_yearly_avg_pandas = df_yearly_avg.to_pandas()\n\nplt.figure(figsize=(11, 7))\nplt.plot(df_yearly_avg_pandas[\"year\"], df_yearly_avg_pandas[\"yearly_avg_price\"], marker='o', linestyle='-', color='#8B0000', linewidth=2)\n\nplt.axvspan(2001, 2008, color='red', alpha=.5, label=\"Bush/Cheney\")\nplt.axvspan(2008, 2016, color='blue', alpha=.5, label=\"Obama/Biden\")\nplt.axvspan(2016, 2020, color='lightcoral', alpha=0.3, label=\"Trump/Pence\")\nplt.axvspan(2020, 2024, color='lightblue', alpha=0.3, label=\"Biden/Harris\")\n\nfor x, y in zip(df_yearly_avg_pandas[\"year\"], df_yearly_avg_pandas[\"yearly_avg_price\"]):\n    plt.text(x, y + 0.02, f\"{y:.2f}\", ha=\"center\", va=\"bottom\", fontsize=11, weight='bold')\n\nplt.title(\"Yearly Average Gasoline Prices (2001 - 2024)\\nAll Grades All Formulations Retail Gasoline Prices Dollars per Gallon\", fontsize=16, weight='bold')\nplt.xlabel(\"Year\", fontsize=12)\nplt.ylabel(\"Average Gasoline Price (Dollars per Gallon)\", fontsize=12)\n\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, _: f\"${x:.2f}\"))\n\nplt.xticks(df_yearly_avg_pandas[\"year\"], rotation=45)\n\nplt.grid(True, which='both', linestyle='--', linewidth=0.5, alpha=0.7)\n\nfirst_legend = plt.legend(loc=\"upper left\", fontsize=10, title=\"Presidential Terms\")\nplt.gca().add_artist(first_legend)\n\nplt.tight_layout()\n\nplt.show()\n```\n\n**Data Source:** [U.S. Energy Information Administration (EIA) - U.S. All Grades All Formulations Retail Gasoline Prices](https://www.eia.gov/dnav/pet/hist/leafhandler.ashx?n=pet&s=emm_epm0_pte_nus_dpg&f=m)\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/low-gas.webp\" alt=\"Low Gas Prices\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/high-gas.webp\" alt=\"High Gas Prices\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n</div>\n\n# **HOME PRICES**\n---\n\n```{python}\n#| label: graph3\n#| code-summary: \"Show Code\"\n\ndf = pl.read_csv(\"./data/yearly_median_home_prices.csv\").rename({\n    \"DATE\": \"date\",\n    \"MSPUS\": \"avg_median_home_price\"\n})\n\ndf = df.with_columns(\n    pl.col(\"date\").str.strptime(pl.Date, \"%Y-%m-%d\").dt.year().alias(\"year\"),\n    pl.col(\"avg_median_home_price\").cast(pl.Float64).round()  # Convert to float and round to 2 decimal places\n)\n\ndf = df.drop(\"date\")\n\ndf_filtered = df.filter((pl.col(\"year\") >= 2001) & (pl.col(\"year\") <= 2024))\n\nplt.figure(figsize=(11, 7))\nplt.plot(df_filtered[\"year\"], df_filtered[\"avg_median_home_price\"], marker='o', linestyle='-', color='#8B0000', linewidth=2)\n\n# Add shaded regions for each presidency\nplt.axvspan(2001, 2008, color='red', alpha=.5, label=\"Bush/Cheney\")\nplt.axvspan(2008, 2016, color='blue', alpha=.5, label=\"Obama/Biden\")\nplt.axvspan(2016, 2020, color='lightcoral', alpha=0.3, label=\"Trump/Pence\")\nplt.axvspan(2020, 2024, color='lightblue', alpha=0.3, label=\"Biden/Harris\")\n\n# Adding data labels above the points\nfor x, y in zip(df_filtered[\"year\"], df_filtered[\"avg_median_home_price\"]):\n    plt.text(x, y + 2000, f\"{y:.0f}\", ha=\"center\", va=\"bottom\", fontsize=11, weight='bold')\n\n# Titles and labels\nplt.title(\"Annual Average of Quarterly Median Home Prices (2001 - 2024)\", fontsize=16, weight='bold')\nplt.xlabel(\"Year\", fontsize=12)\nplt.ylabel(\"Average Median Home Price (Dollars)\", fontsize=12)\n\n# Format y-axis with dollar sign and no decimal places\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, _: f\"${x:,.0f}\"))\n\n# Improving the x-axis ticks\nplt.xticks(df_filtered[\"year\"], rotation=45)\n\n# Adding a subtle grid\nplt.grid(True, which='both', linestyle='--', linewidth=0.5, alpha=0.7)\n\n# Add a legend for presidential terms (upper left)\nfirst_legend = plt.legend(loc=\"upper left\", fontsize=10, title=\"Presidential Terms\")\nplt.gca().add_artist(first_legend)\n\n# Adjust layout for better fitting\nplt.tight_layout()\n\n# Show plot\nplt.show()\n\n```\n\n**Data Source:** [Federal Reserve Economic Data (FRED) - Median Sales Price of Houses Sold for the United States (MSPUS)](https://fred.stlouisfed.org/series/MSPUS)\n\n<div style=\"display: flex; justify-content: space-between; align-items: stretch;\">\n  <img src=\"./images/home.webp\" alt=\"Home\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n  <img src=\"./images/homeless-camp.jpg\" alt=\"Homeless Camp\" style=\"width: 49%; height: 100%; object-fit: cover;\"/>\n</div>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":true,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":{"source":false,"toggle":true,"caption":"See code"},"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":false,"number-sections":false,"html-math-method":"katex","output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","theme":"cosmo","page-layout":"full","code-summary":"Show the code","code-copy":"hover","title":"Causation or Correlation?","subtitle":"Key Trends and Events Impacting American Life Over the Years","author":"Nathan Lunceford"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}